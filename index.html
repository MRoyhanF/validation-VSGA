<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>BEASISWA</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
     <link rel="stylesheet" href="./css/style.css">
</head>
<body>
     <!-- header / navbar -->
     <header class="header">
          <nav class="navbar">
               <img src="./assets/foto/logo.png"
               class="logo">
               <div>
                    <a href="./beasiswa.html" class="menu">Pillihan Beasiswa</a>
                    <a href="#" class="menu">Daftar</a>
                    <a href="result.html" class="menu">Hasil</a>
               </div>    
          </nav>
     </header>
     
     <!--Content -->
     <body onload='document.form1.text1.focus()'>
          <main>
               <div class="container">
                    <h1>Form Pendaftaran</h1>
                         <form name="form1">
                              <div class="row mb-3">
                                   <label class="col-md-3 col-lg-2 col-form-label" for="name">Nama Lengkap</label>
                                   <div class="col-md-8 col-lg-10">
                                     <input class="form-control" type="text" name="name" id="name" required>
                                   </div>
                              </div>
     
                              <div class="row mb-3">
                                   <label class="col-md-3 col-lg-2 col-form-label" for="email">E-mail</label>
                                   <div class="col-md-8 col-lg-10">
                                     <input class="form-control" type="email" name="email" id="email" required onchange="ValidateEmail(document.form1.email)">
                                   </div>
                              </div>
                              <div class="row mb-3">
                                   <label class="col-md-3 col-lg-2 col-form-label" for="hp">Nomer HP</label>
                                   <div class="col-md-8 col-lg-10">
                                     <input class="form-control" type="number" name="hp" id="hp" required>
                                   </div>
                              </div>
                              <div class="row mb-3">
                                   <label class="col-md-3 col-lg-2 col-form-label" for="semester" >Semester Saat Ini</label>
                                   <div class="col-md-1 col-lg-3">
                                     <select class="form-select" aria-label="Default select example" name="semester" id="semester" required>
                                       <option value="">-Semester-</option>
                                       <option value="satu 1">-1-</option>
                                       <option value="dua 2">-2-</option>
                                       <option value="tiga 3">-3-</option>
                                       <option value="empat 4">-4-</option>
                                       <option value="lima 5">-5-</option>
                                       <option value="enam 6">-6-</option>
                                       <option value="tujuh 7">-7-</option>
                                       <option value="delapan 8">-8-</option>
                                     </select>
                                   </div>
                              </div>
     
                              <div class="row mb-3">
                                   <label class="col-md-3 col-lg-2 col-form-label" for="ipk">IPK</label>
                                   <div class="col-md-2 col-lg-3">
                                     <input class="form-control" type="number" name="ipk" id="ipk" min="1" max="4" required onchange="validateIpk()">
                                   </div>
                              </div>
     
                              <div class="row mb-3">
                                <label class="col-md-3 col-lg-2 col-form-label" for="jurusan">Jurusan</label>
                                <div class="col-md-1 col-lg-10">
                                  <select class="form-select" aria-label="Default select example" name="jurusan" id="jurusan" required >
                                    <option value="">-Jurusan-</option>
                                    <option value="akademik">-Akademik-</option>
                                    <option value="non-akademik">-Non Akademik-</option>
                                  </select>
                                </div>
                              </div>
     
                              <div class="row mb-3">
                                   <label class="col-md-3 col-lg-2 col-form-label" for="berkas">Upload Berkas Syarat</label>
                                   <div class="col-md-2 col-lg-10">
                                     <input class="form-control" type="file" name="berkas" id="berkas" required onchange="fileValidation()">
                                     <p class="bread-crumb-item">type file .zip, .rar, .pdf, .jpeg</p>
                                   </div>
                              </div>
                              
                              <div class="button">
                                   <input type="button" style="background-color: rgb(0, 238, 255);" value="Submit" class="submit" onclick="submitForm()">
                              
                                   <input type="submit" style="background-color: rgb(255, 0, 0);" value="Reset" class="submit" onclick="reset()">
                              </div>
                              
                         </form> 
               </div>
               
          </main>
     
     </body>
     <!-- footer -->
     <footer>
          <div class="footer">
               <h5> By. Muhamad Royhan Fadhli</h5>
          </div>
     </footer>
     <script>
          // let ipk0 = document.getElementById("ipk").value;
          
          function submitForm(){
          const name     = document.getElementById("name").value;
          const email    = document.getElementById("email").value;
          const hp       = document.getElementById("hp").value;
          const semester = document.getElementById("semester").value;
          const ipk      = document.getElementById("ipk").value;
          const jurusan  = document.getElementById("jurusan").value;
          const berkas   = document.getElementById("berkas").value;

          // Simpan data di sessionStorage
          sessionStorage.setItem("name", name);
          sessionStorage.setItem("email", email);
          sessionStorage.setItem("hp", hp);
          sessionStorage.setItem("semester", semester);
          sessionStorage.setItem("ipk", ipk);
          sessionStorage.setItem("jurusan", jurusan);
          sessionStorage.setItem("berkas", berkas);
     
          window.location.href = "result.html";
          }

          function validateIpk() {
          let x = document.forms["form1"]["ipk"].value;
          let v = Number(x);
          if (v < 3) {
               document.getElementById('jurusan').disabled = true;
               alert("IPK Anda Tidak memenuhi syarat");
               return false;
          }else{
  	          alert("Silahkan Lanjutkan penginputan data anda");
                 document.form1.jurusan.focus();
          }
          }
          


          //function resert
          function reset(){
               const name     = document.querySelector('#name');
               const email    = document.querySelector('#email');
               const hp       = document.querySelector('#hp');
               const semester = document.querySelector('#semester');
               const ipk      = document.querySelector('#ipk');
               const jurusan  = document.querySelector('#jurusan');
               const berkas   = document.querySelector('#berkas');
               name.value = null;
               email.value = null;
               hp.value = null;
               semester.value = null;
               ipk.value = null;
               jurusan.value = null;
               berkas.value = null;

               window.location.href = "index.html";
          }


          //validasi email
          function ValidateEmail() {
	     var rs = document.forms["form1"]["email"].value;
	     var atps=rs.indexOf("@");
	     var dots=rs.lastIndexOf(".");
	     if (atps<1 || dots<atps+2 || dots+2>=rs.length) {
		     alert("Alamat email tidak valid.");
		return false;
	     } else {
		     alert("Alamat email valid.");
               document.form1.hp.focus();
	     }
          }

          //validasi file
          function fileValidation() {
            var fileInput =
                document.getElementById('berkas');
             
            var filePath = fileInput.value;
         
            // Allowing file type
            var allowedExtensions =/(\.zip|\.rar|\.jpg|\.pdf)$/i;
             
            if (!allowedExtensions.exec(filePath)) {
                alert('tipe file tidak di terima');
                fileInput.value = '';
                return false;
            }
        }
     </script>
</body>
</html>

<!-- //falidasi ipk
// function ipkVal(){
//      let ipk1 = ipk0;
//      let nm = parseInt(ipk1);
//      if (nm <= 3){
//      document.getElementById('jurusan').disabled = true;
//      alert('IPK anda tidak mencukupi');
// }else{
//      alert('silahkan lanjutkan registrasi')
// }
// };

// //validasi email
// function ValidateEmail(inputText){
// var mailformat = /^w+([.-]?w+)*@w+([.-]?w+)*(.w{2,3})+$/;
// if(inputText.value.match(mailformat)){
// // function ValidateEmail(email){
// // if(email.indexOf("@")!=-1 && email.indexOf(".")!=-1){
//      alert("email anda benar");    //The pop up alert for a valid email address
//      document.form1.hp.focus();
//      return true;
// }else{
//      alert("Masukan Email Dengan Benar");    //The pop up alert for an invalid email address
//      document.form1.email.focus();
//      return false;
// }
// } -->